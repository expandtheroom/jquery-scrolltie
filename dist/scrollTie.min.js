(function(root, factory) {
  if(typeof exports === 'object') {
    module.exports = factory(require("jquery"));
  }
  else if(typeof define === 'function' && define.amd) {
    define(["jquery"], factory);
  }
  else {
    factory(jQuery);
  }
}(this, function(jquery) {
  var require=function(name){return {"jquery": $}[name];};
  (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var $=require("jquery");module.exports=function(e,r,n){n=n||100;var t=$(window),i=$(e),o=($(document).height(),t.innerHeight()),u=r+o,h=i.offset().top,d=i.innerHeight(),f=u+n>=h&&h+d+o+n>u;return f};
},{"jquery":"jquery"}],2:[function(require,module,exports){
var $=require("jquery");module.exports=function(t,e,o){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$.extend(e.prototype,o)};
},{"jquery":"jquery"}],3:[function(require,module,exports){
module.exports=function(t){var r=window.getComputedStyle(t,null);if(t&&r){var e=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform"),a=e.replace(/[matrix\(\)]/g,"").split(","),o=a[0],n=a[1],s=(a[2],a[3],a[4]),l=a[5],p=Math.sqrt(o*o+n*n),u=Math.round(Math.atan2(n,o)*(180/Math.PI));return{rotate:parseInt(u),scale:p,translateX:parseInt(s),translateY:parseInt(l)}}};
},{}],4:[function(require,module,exports){
"use strict";var $=require("jquery"),ScrollTie=require("./scrollTie"),allScrollTiedElements=[],scrollTiedElementCounter=0,publicGlobalMethods,publicInstanceMethods;publicGlobalMethods={destroy:function(){$.each(allScrollTiedElements,function(e,l){l.destroy(allScrollTiedElements)})},pause:function(){$.each(allScrollTiedElements,function(e,l){l.pause()})},restart:function(){$.each(allScrollTiedElements,function(e,l){l.start()})},refresh:function(){$.each(allScrollTiedElements,function(e,l){l.refresh()})},init:function(){$.each(allScrollTiedElements,function(e,l){l.isInitialized||l.init()})}},publicInstanceMethods={destroy:function(){return this.destroy(allScrollTiedElements),this.$el},pause:function(){return this.pause(),this.$el},restart:function(){return this.start(),this.$el},refresh:function(){return this.refresh(),this.$el},init:function(){return this.isInitialized||this.init(),this.$el}},$.fn.scrollTie=function(e){if("string"==typeof e||!e){var l=e;return $(this).data().plugin_scrollTie?publicInstanceMethods[l]?publicInstanceMethods[l].apply($(this).data().plugin_scrollTie):$.error(l?"ScrollTie doesn't recognize the method "+l:"ScrollTie needs a string reference to a public method or option configuration object."):$.error("ScrollTie not instantiated on this element")}return this.each(function(){if(e.id="scrollTied"+scrollTiedElementCounter++,!$.data(this,"plugin_scrollTie")){var l=new ScrollTie(this,e);allScrollTiedElements.push(l),$.data(this,"plugin_scrollTie",l)}})},$.scrollTie=function(){var e=arguments[0],l=arguments.length>=2?[].slice.call(arguments,1):[];return publicGlobalMethods[e]?publicGlobalMethods[e].apply(null,l):allScrollTiedElements};
},{"./scrollTie":10,"jquery":"jquery"}],5:[function(require,module,exports){
function BgPositionPropertyUpdater(t,e){this.backgroundPositionAxis=e.property,PropertyUpdater.call(this,t,e)}module.exports=BgPositionPropertyUpdater;var $=require("jquery"),PropertyUpdater=require("./propertyUpdater"),extend=require("../helpers/extend");extend(PropertyUpdater,BgPositionPropertyUpdater,{_createPropertyValueFormatter:function(){var t={backgroundPositionX:function(t){var e=getComputedStyle(this.el)?getComputedStyle(this.el).backgroundPosition.split(" ")[1]:0;return t+"px "+e},backgroundPositionY:function(t){var e=getComputedStyle(this.el)?getComputedStyle(this.el).backgroundPosition.split(" ")[0]:0;return e+" "+t+"px"}};return t[this.backgroundPositionAxis]},_getProperty:function(){return"backgroundPosition"},_getOriginalVal:function(){var t=getComputedStyle(this.el)?getComputedStyle(this.el).backgroundPosition.split(" "):[0,0];return parseInt("backgroundPositionY"===this.backgroundPositionAxis?t[1]:t[0])}});
},{"../helpers/extend":2,"./propertyUpdater":7,"jquery":"jquery"}],6:[function(require,module,exports){
function OpacityPropertyUpdater(e,r){this.backgroundPositionAxis=r.property,PropertyUpdater.call(this,e,r),this.stopAtValue=this.reverseDirection?0:1}module.exports=OpacityPropertyUpdater;var PropertyUpdater=require("./propertyUpdater"),extend=require("../helpers/extend");extend(PropertyUpdater,OpacityPropertyUpdater,{_createPropertyValueFormatter:function(){return function(e){return e}},_getSpeed:function(){var e=this.opts.speed||1;return.001*e}});
},{"../helpers/extend":2,"./propertyUpdater":7}],7:[function(require,module,exports){
"use strict";function PropertyUpdater(t,e){this.opts=e,this.el=t,this.$el=$(t),this.property=this._getProperty(),this.reverseDirection=e.reverseDirection,this.speed=this._getSpeed(),this.stopAtValue="function"==typeof e.stopAtValue?e.stopAtValue():e.stopAtValue,this.originalVal=void 0!==e.originalVal?e.originalVal:this._getOriginalVal(),this.propertyValueFormat=e.propertyValueFormat||this._createPropertyValueFormatter(),this.afterStop=e.afterStop||$.noop,this.onPause=e.onPause||$.noop,this.onStart=e.onStart||$.noop,this.paused=!1,this.stopped=!1}var $=require("jquery");module.exports=PropertyUpdater,$.extend(PropertyUpdater.prototype,{_createPropertyValueFormatter:function(){return function(t){return Math.floor(t)+"px"}},_getProperty:function(){return this.opts.property},_getOriginalVal:function(){return parseInt(this.$el.css(this.property))||0},_getSpeed:function(){return this.opts.speed||1},_shouldStop:function(t){return!this.reverseDirection&&t>=this.stopAtValue||this.reverseDirection&&t<=this.stopAtValue?(this.afterStop(this.el),this.stopped=!0,!0):!1},_checkForRestart:function(t){(this.originalVal<this.stopAtValue&&t<=this.stopAtValue||this.originalVal>this.stopAtValue&&t>=this.stopAtValue)&&(this.onStart(this.el),this.stopped=!1)},_transmuteMoveValue:function(t){return t=this.reverseDirection?Number(this.originalVal)-t:Number(this.originalVal)+t,void 0!==this.stopAtValue&&(t=this._shouldStop(t)?this.stopAtValue:t),this.stopped&&this._checkForRestart(),t},_formatJqueryCssVal:function(t){var e={};return e[this.property]=this.propertyValueFormat(t,this.el),e},clearProperty:function(){this.$el.css(this.property,"")},pause:function(){this.paused=!0,this.onPause(this.el)},start:function(){this.paused=!1,this.originalVal=this._getOriginalVal(),this.onStart(this.el)},moveTo:function(t){this.originalVal=t,this.$el.css(this._formatJqueryCssVal(t))},reset:function(){this.moveTo(this.originalVal)},update:function(t){this.paused||(t=this._transmuteMoveValue(t),this.$el.css(this._formatJqueryCssVal(t)))}});
},{"jquery":"jquery"}],8:[function(require,module,exports){
var PropertyUpdater=require("./propertyUpdater"),TransformPropertyUpdater=require("./transformPropertyUpdater"),BgPositionPropertyUpdater=require("./bgPositionPropertyUpdater"),OpacityPropertyUpdater=require("./opacityPropertyUpdater");module.exports.create=function(r,t){var e={translateY:TransformPropertyUpdater,translateX:TransformPropertyUpdater,rotate:TransformPropertyUpdater,scale:TransformPropertyUpdater,backgroundPositionY:BgPositionPropertyUpdater,backgroundPositionX:BgPositionPropertyUpdater,opacity:OpacityPropertyUpdater};return e[t.property]?new e[t.property](r,t):new PropertyUpdater(r,t)};
},{"./bgPositionPropertyUpdater":5,"./opacityPropertyUpdater":6,"./propertyUpdater":7,"./transformPropertyUpdater":9}],9:[function(require,module,exports){
function TransformPropertyUpdater(r,t){this.transform=t.property,this.propertyValueFormatMap={translateX:function(r){return"translateX("+r+"px)"},translateY:function(r){return"translateY("+r+"px)"},rotate:function(r){return"rotate("+r+"deg)"},scale:function(r){return"scale("+r+")"}},PropertyUpdater.call(this,r,t)}module.exports=TransformPropertyUpdater;var $=require("jquery"),PropertyUpdater=require("./propertyUpdater"),extend=require("../helpers/extend"),parse2dTransformMatrix=require("../helpers/parse2dTransformMatrix"),vendorPrefixes=["-ms-","-webkit-"],vendorPrefixCount=vendorPrefixes.length;extend(PropertyUpdater,TransformPropertyUpdater,{_createPropertyValueFormatter:function(){return this.propertyValueFormatMap[this.transform]},_getProperty:function(){return"transform"},_getSpeed:function(){var r=this.opts.speed||1;return"scale"==this.transform?.01*r:r},_getOriginalVal:function(){var r=parse2dTransformMatrix(this.el);return parseInt(r&&r[this.transform]?r[this.transform]:0)},_getStaticTransformValue:function(){var r="",t=parse2dTransformMatrix(this.el);for(var e in t)t[e]&&e!=this.transform&&(r=r+" "+this.propertyValueFormatMap[e](t[e]));return r},_formatJqueryCssVal:function(r){r=this.propertyValueFormat("scale"==this.transform?r:Math.floor(r)),this.staticTransformValue=this.staticTransformValue||this._getStaticTransformValue();for(var t={transform:this.staticTransformValue+" "+r},e=0;vendorPrefixCount>e;e++)t[vendorPrefixes[e]+"transform"]=this.staticTransformValue+" "+r;return t},clearProperty:function(){var r=this;$.each(vendorPrefixes,function(t,e){r.$el.css(e+"transform","")}),PropertyUpdater.prototype.clearProperty.call(this)}});
},{"../helpers/extend":2,"../helpers/parse2dTransformMatrix":3,"./propertyUpdater":7,"jquery":"jquery"}],10:[function(require,module,exports){
function ScrollTie(t,i){this.options=i,this.id=i.id,this.el="string"==typeof t?document.querySelector(t):t,this.$el=$(t),this.animateWhenOutOfView=i.animateWhenOutOfView,this.delay=i.delay,this.manualInit=i.manualInit,this.evt="scroll",this.context=i.context||win,this.onDestroy=i.onDestroy||$.noop,this.$win=$(win),this.$doc=$(document),this.$context=$(this.context),this.lastScrollY=this.getScrollY(),this.isQueued=!1,this.resizeTicker=0,this.lastFrameWasAnimated=!1,win.requestAnimationFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.mozRequestAnimationFrame,this.raf=!!win.requestAnimationFrame,this.manualInit||this.init()}module.exports=ScrollTie;var $=require("jquery"),propertyUpdaterFactory=require("./propertyUpdaters/propertyUpdaterFactory"),elementIsInView=require("./helpers/elementIsInView"),win=window;$.extend(ScrollTie.prototype,{init:function(){var t=this;this.isInitialized=!0,this.propertyUpdater=propertyUpdaterFactory.create(this.el,this.options),this.isFixed="fixed"==this.$el.css("position"),this.calculatedDelay=this.calculateDelay();this.canAnimate()?this.animate():this.promise=this.canAnimate()?this.animate():$.Deferred().resolve();this.$context.on(this.evt+"."+this.id,this.scrollHandler.bind(this)),this.$win.on("resize."+this.id,function(){t.resizeTicker++,t.resetPosition(t.resizeTicker)})},scrollHandler:function(){this.lastScrollY=this.getScrollY(),this.requestAnimation()},requestAnimation:function(){return this.$win.height()+this.lastScrollY>this.$doc.height()?void 0:this.canAnimate()?this.raf?void(this.isQueued||(win.requestAnimationFrame(this.animate.bind(this)),this.isQueued=!0)):void this.animate():(this.lastFrameWasAnimated&&this.propertyUpdater.reset(),void(this.lastFrameWasAnimated=!1))},animate:function(){this.isQueued=!1,this.lastFrameWasAnimated||this.propertyUpdater.onStart(this.el);var t=this.calculateMoveValue();this.propertyUpdater.update(t),this.lastFrameWasAnimated=!0},canAnimate:function(){var t=elementIsInView(this.el,this.lastScrollY),i=this.paused||!t&&!this.animateWhenOutOfView&&!this.isFixed||this.lastScrollY<this.calculatedDelay;return!i},getScrollY:function(){return this.$context.scrollTop()},calculateDelay:function(){var t=this.$el.offset().top;t=t>win.innerHeight&&!this.isFixed?t-win.innerHeight:0;var i="function"==typeof this.delay?this.delay(this.el):this.delay;return void 0===i?t:i+t},calculateMoveValue:function(){return(this.lastScrollY-this.calculatedDelay)*this.propertyUpdater.speed},resetPosition:function(t){var i=this;setTimeout(function(){t==i.resizeTicker&&i.refresh()},500)},pause:function(){this.propertyUpdater.pause()},start:function(){this.propertyUpdater.start(),this.calculatedDelay=this.lastScrollY},destroy:function(t){this.$context.off("."+this.id),this.$win.off("."+this.id),this.propertyUpdater.clearProperty(),$.removeData(this.el,"plugin_scrollTie"),t.splice(t.indexOf(this),1),this.isInitialized=!1,this.onDestroy(this.el)},refresh:function(){this.propertyUpdater.clearProperty(),this.init()}});
},{"./helpers/elementIsInView":1,"./propertyUpdaters/propertyUpdaterFactory":8,"jquery":"jquery"}]},{},[4]);

  return ;
}));